<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>blocks.store.s3 documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Blocks-s3</span> <span class="project-version">0.3.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="blocks.store.s3.html"><div class="inner"><span>blocks.store.s3</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="blocks.store.s3.html#var-erase.21"><div class="inner"><span>erase!</span></div></a></li><li class="depth-1"><a href="blocks.store.s3.html#var-get-client"><div class="inner"><span>get-client</span></div></a></li><li class="depth-1"><a href="blocks.store.s3.html#var-get-region"><div class="inner"><span>get-region</span></div></a></li><li class="depth-1"><a href="blocks.store.s3.html#var-s3-block-store"><div class="inner"><span>s3-block-store</span></div></a></li><li class="depth-1"><a href="blocks.store.s3.html#var-s3-uri"><div class="inner"><span>s3-uri</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">blocks.store.s3</h1><div class="doc"><div class="markdown"><p>Block storage backed by a bucket in Amazon S3.</p></div></div><div class="public anchor" id="var-erase.21"><h3>erase!</h3><div class="usage"><code>(erase! store)</code></div><div class="doc"><div class="markdown"><p>Clears all blocks from the S3 store by deleting everything in the bucket matching the store prefix.</p></div></div><div class="src-link"><a href="https://github.com/greglook/blocks-s3/blob/master/src/blocks/store/s3.clj#L242">view source</a></div></div><div class="public anchor" id="var-get-client"><h3>get-client</h3><div class="usage"><code>(get-client opts)</code></div><div class="doc"><div class="markdown"><p>Constructs an S3 client.</p>
<p>Supported options:</p>
<ul>
  <li><code>:credentials</code> a map with <code>:access-key</code> and <code>:secret-key</code> entries providing  explicit AWS credentials.</li>
  <li><code>:region</code> a keyword or string designating the region to operate in.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/greglook/blocks-s3/blob/master/src/blocks/store/s3.clj#L56">view source</a></div></div><div class="public anchor" id="var-get-region"><h3>get-region</h3><div class="usage"><code>(get-region region)</code></div><div class="doc"><div class="markdown"><p>Translates a Clojure keyword into an S3 region instance. Throws an exception if the keyword doesnâ€™t match a supported region.</p></div></div><div class="src-link"><a href="https://github.com/greglook/blocks-s3/blob/master/src/blocks/store/s3.clj#L43">view source</a></div></div><div class="public anchor" id="var-s3-block-store"><h3>s3-block-store</h3><div class="usage"><code>(s3-block-store bucket &amp; {:as opts})</code></div><div class="doc"><div class="markdown"><p>Creates a new S3 block store. If credentials are not explicitly provided, the AWS SDK will use a number of mechanisms to infer them from the environment.</p>
<p>Supported options:</p>
<ul>
  <li><code>:credentials</code> a map with <code>:access-key</code> and <code>:secret-key</code> entries providing  explicit AWS credentials.</li>
  <li><code>:region</code> a keyword or string designating the region the bucket is in.</li>
  <li><code>:prefix</code> a string prefix to store the blocks under.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/greglook/blocks-s3/blob/master/src/blocks/store/s3.clj#L280">view source</a></div></div><div class="public anchor" id="var-s3-uri"><h3>s3-uri</h3><div class="usage"><code>(s3-uri bucket object-key)</code></div><div class="doc"><div class="markdown"><p>Constructs a URI referencing an object in S3.</p></div></div><div class="src-link"><a href="https://github.com/greglook/blocks-s3/blob/master/src/blocks/store/s3.clj#L37">view source</a></div></div></div></body></html>